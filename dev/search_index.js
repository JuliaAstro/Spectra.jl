var documenterSearchIndex = {"docs":
[{"location":"transforms/#","page":"Transformations","title":"Transformations","text":"DocTestSetup = quote\n  using Spectra, Random\n  Random.seed!(11894)\nend","category":"page"},{"location":"transforms/#Transformations-1","page":"Transformations","title":"Transformations","text":"","category":"section"},{"location":"transforms/#","page":"Transformations","title":"Transformations","text":"The following operations and transformations are provided to work on Spectra","category":"page"},{"location":"transforms/#Extinction-1","page":"Transformations","title":"Extinction","text":"","category":"section"},{"location":"transforms/#","page":"Transformations","title":"Transformations","text":"By levaraging DustExtinction.jl we can apply common reddening laws to our spectra.","category":"page"},{"location":"transforms/#","page":"Transformations","title":"Transformations","text":"julia> using Unitful, Measurements\n\njulia> wave = (1:0.5:3)u\"μm\"\n(1.0:0.5:3.0) μm\n\njulia> sigma = randn(size(wave))\n5-element Array{Float64,1}:\n -0.585703503275916  \n  1.1359199050439328 \n  0.1290826073042479 \n -0.7877421634518855 \n -0.19106542134120702\n\njulia> flux = (100 .± sigma)u\"W/m^2/μm\"\n5-element Array{Quantity{Measurement{Float64},𝐌*𝐋^-1*𝐓^-3,Unitful.FreeUnits{(μm^-1, m^-2, W),𝐌*𝐋^-1*𝐓^-3,nothing}},1}:\n 100.0 ± -0.59 W μm^-1 m^-2\n   100.0 ± 1.1 W μm^-1 m^-2\n  100.0 ± 0.13 W μm^-1 m^-2\n 100.0 ± -0.79 W μm^-1 m^-2\n 100.0 ± -0.19 W μm^-1 m^-2\n\njulia> spec = spectrum(wave, flux)\nUnitfulSpectrum (5,)\n  λ (μm) f (W μm^-1 m^-2)\n\njulia> red = redden(spec, 0.3)\nUnitfulSpectrum (5,)\n  λ (μm) f (W μm^-1 m^-2)\n\njulia> red.flux\n5-element Array{Quantity{Measurement{Float64},𝐌*𝐋^-1*𝐓^-3,Unitful.FreeUnits{(μm^-1, m^-2, W),𝐌*𝐋^-1*𝐓^-3,nothing}},1}:\n 89.44 ± 0.52 W μm^-1 m^-2\n   94.4 ± 1.1 W μm^-1 m^-2\n 96.41 ± 0.12 W μm^-1 m^-2\n 97.48 ± 0.77 W μm^-1 m^-2\n 98.11 ± 0.19 W μm^-1 m^-2\n\njulia> deredden!(red, 0.3)\nUnitfulSpectrum (5,)\n  λ (μm) f (W μm^-1 m^-2)\n\njulia> red.flux ≈ spec.flux\ntrue\n","category":"page"},{"location":"transforms/#API/Reference-1","page":"Transformations","title":"API/Reference","text":"","category":"section"},{"location":"transforms/#","page":"Transformations","title":"Transformations","text":"redden\nredden!\nderedden\nderedden!","category":"page"},{"location":"transforms/#DustExtinction.redden","page":"Transformations","title":"DustExtinction.redden","text":"redden(::AbstractSpectrum, Av; Rv = 3.1, law = ccm89)\n\nRedden a spectrum using common color laws provided by DustExtinction.jl. Av is the total extinction, Rv is the selective extinction (3.1 is a common value for the Milky Way) and law is the color law to use for determining the extinction. \n\n\n\n\n\n","category":"function"},{"location":"transforms/#Spectra.redden!","page":"Transformations","title":"Spectra.redden!","text":"redden!(::AbstractSpectrum, Av; Rv = 3.1, law = ccm89)\n\nIn-place version of redden\n\n\n\n\n\n","category":"function"},{"location":"transforms/#DustExtinction.deredden","page":"Transformations","title":"DustExtinction.deredden","text":"deredden(::AbstractSpectrum, Av; Rv = 3.1, law = ccm89)\n\nDeredden a spectrum using common color laws provided by DustExtinction.jl. Av is the total extinction, Rv is the selective extinction (3.1 is a common value for the Milky Way) and law is the color law to use for determining the extinction. \n\n\n\n\n\n","category":"function"},{"location":"transforms/#Spectra.deredden!","page":"Transformations","title":"Spectra.deredden!","text":"deredden!(::AbstractSpectrum, Av; Rv = 3.1, law = ccm89)\n\nIn-place version of deredden\n\n\n\n\n\n","category":"function"},{"location":"transforms/#","page":"Transformations","title":"Transformations","text":"DocTestSetup = nothing","category":"page"},{"location":"contrib/#contrib-1","page":"Contributing","title":"Contributing","text":"","category":"section"},{"location":"contrib/#Extending-AbstractSpectrum-1","page":"Contributing","title":"Extending AbstractSpectrum","text":"","category":"section"},{"location":"contrib/#","page":"Contributing","title":"Contributing","text":"Most of the code written within this library should work as long as your subtype contains the following fields","category":"page"},{"location":"contrib/#","page":"Contributing","title":"Contributing","text":"wave::AbstractArray\nflux::AbstractArray\nmeta::Dict{Symbol, Any}","category":"page"},{"location":"contrib/#","page":"Contributing","title":"Contributing","text":"Variations of wave and flux ought to work given the appropriate methods being written. For instance, Spectra.UnitfulSpectrum does not work with Interpolations.jl natively, so it was wrapped to provide the correct interface.","category":"page"},{"location":"contrib/#Contributing-Guidelines-1","page":"Contributing","title":"Contributing Guidelines","text":"","category":"section"},{"location":"contrib/#","page":"Contributing","title":"Contributing","text":"In general, for contributing, use the following guidelines","category":"page"},{"location":"contrib/#","page":"Contributing","title":"Contributing","text":"Write clean, pragmatic julia code\nNew features must come with adequete unit testing and documentation\nEach new feature should bump the package one minor version\nMake sure to cite relevant papers and code where appropriate","category":"page"},{"location":"contrib/#","page":"Contributing","title":"Contributing","text":"If you are interested in contributing, head over to GitHub and take a look at some of the issues for ideas!","category":"page"},{"location":"#Spectra.jl-1","page":"Home","title":"Spectra.jl","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"Utilities for interfacing with astronomical spectra and synthetic spectra libraries.","category":"page"},{"location":"#","page":"Home","title":"Home","text":"Pages = [\"index.md\", \"spectrum.md\", \"transforms.md\"]","category":"page"},{"location":"#Installation-1","page":"Home","title":"Installation","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"From the REPL, press ] to enter Pkg mode","category":"page"},{"location":"#","page":"Home","title":"Home","text":"(v 1.2) pkg> add https://github.com/JuliaAstro/Spectra.jl\n\njulia> using Spectra","category":"page"},{"location":"#Quick-Start-1","page":"Home","title":"Quick Start","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"Here is a quick demo of some of our features","category":"page"},{"location":"#","page":"Home","title":"Home","text":"julia> using Spectra, FITSIO, Unitful, UnitfulAstro, Plots\n\njulia> download(\"https://dr14.sdss.org/optical/spectrum/view/data/format=fits/spec=lite?plateid=1323&mjd=52797&fiberid=12\", \"sdss.fits\");\n\njulia> f = FITS(\"sdss.fits\")\nFile: sdss.fits\nMode: \"r\" (read-only)\nHDUs: Num  Name     Type   \n      1             Image  \n      2    COADD    Table  \n      3    SPECOBJ  Table  \n      4    SPZLINE  Table  \n\njulia> wave = 10 .^ read(f[2], \"loglam\") * u\"angstrom\";\n\njulia> flux = read(f[2], \"flux\") .* 1e-18 * u\"erg/s/cm^2/angstrom\";\n\njulia> spec = spectrum(wave, flux)\nUnitfulSpectrum (3827,)\n  λ (Å) f (erg Å^-1 cm^-2 s^-1)\n\njulia> plot(spec);\n","category":"page"},{"location":"#","page":"Home","title":"Home","text":"(Image: )","category":"page"},{"location":"#","page":"Home","title":"Home","text":"","category":"page"},{"location":"#Citation-1","page":"Home","title":"Citation","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"If you found this software or any derivative work useful in your academic work, I ask that you please cite the code.","category":"page"},{"location":"#","page":"Home","title":"Home","text":"TODO","category":"page"},{"location":"#Contributing-1","page":"Home","title":"Contributing","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"Please see Contributing for information on contributing and extending Spectra.jl.","category":"page"},{"location":"spectrum/#","page":"Spectrum","title":"Spectrum","text":"DocTestSetup = quote\n  using Spectra, Random\n  Random.seed!(11894)\nend","category":"page"},{"location":"spectrum/#Spectrum-1","page":"Spectrum","title":"Spectrum","text":"","category":"section"},{"location":"spectrum/#","page":"Spectrum","title":"Spectrum","text":"Here we will go over the different spectral types and how we use them.","category":"page"},{"location":"spectrum/#Types-1","page":"Spectrum","title":"Types","text":"","category":"section"},{"location":"spectrum/#","page":"Spectrum","title":"Spectrum","text":"Spectra are defined as possible subtypes of AbstractSpectrum. You can use these directly for construction, or use the catch-all spectrum function, which is preferred.","category":"page"},{"location":"spectrum/#","page":"Spectrum","title":"Spectrum","text":"Spectra.Spectrum\nSpectra.UnitfulSpectrum","category":"page"},{"location":"spectrum/#Spectra.Spectrum","page":"Spectrum","title":"Spectra.Spectrum","text":"Spectrum <: AbstractSpectrum\n\nA 1-dimensional spectrum stored as vectors of real numbers. The wavelengths are assumed to be in angstrom.\n\n\n\n\n\n","category":"type"},{"location":"spectrum/#Spectra.UnitfulSpectrum","page":"Spectrum","title":"Spectra.UnitfulSpectrum","text":"UnitfulSpectrum <: AbstractSpectrum\n\nA 1-dimensional spectrum stored as vectors of quantities.\n\n\n\n\n\n","category":"type"},{"location":"spectrum/#Constructors-1","page":"Spectrum","title":"Constructors","text":"","category":"section"},{"location":"spectrum/#","page":"Spectrum","title":"Spectrum","text":"Spectra.spectrum\nSpectra.blackbody","category":"page"},{"location":"spectrum/#Spectra.spectrum","page":"Spectrum","title":"Spectra.spectrum","text":"spectrum(wave::Vector{<:Real}, flux::Vector{<:Real}; kwds...)\nspectrum(wave::Vector{<:Quantity}, flux::Vector{<:Quantity}; kwds...)\n\nConstruct a  single dimensional astronomical spectrum. Note that the dimensions of each array must be equal or an error will be thrown.\n\nExamples\n\njulia> using Spectra\n\njulia> wave = range(1e4, 4e4, length=1000);\n\njulia> flux = 100 .* ones(size(wave));\n\njulia> spec = spectrum(wave, flux)\nSpectrum (1000,)\n\njulia> spec = spectrum(wave, flux, name=\"Just Noise\")\nSpectrum (1000,)\n  name: Just Noise\n\njulia> spec.name\n\"Just Noise\"\n\n\nThere is easy integration with Unitful.jl and its sub-projects and Measurements.jl\n\njulia> using Spectra, Unitful, UnitfulAstro, Measurements\n\njulia> wave = range(1, 4, length=1000)u\"μm\";\n\njulia> sigma = randn(size(wave));\n\njulia> flux = (100 .± sigma)u\"erg/cm^2/s/angstrom\";\n\njulia> spec = spectrum(wave, flux)\nUnitfulSpectrum (1000,)\n  λ (μm) f (erg Å^-1 cm^-2 s^-1)\n\n\n\n\n\n\n","category":"function"},{"location":"spectrum/#Spectra.blackbody","page":"Spectrum","title":"Spectra.blackbody","text":"blackbody(wave::Vector{<:Quantity}, T::Quantity)\nblackbody(wave::Vector{<:Real}, T::Real)\n\nCreate a blackbody spectrum using Planck's law. The curve follows the mathematical form \n\nB_lambda(T) = frac2hc^2lambda^5frac1e^hclambda k_B T - 1\n\nIf wave and T are not Unitful.Quantity, they are assumed to be in angstrom and Kelvin, and the returned flux will be in units W m^-2 Å^-1. \n\nThe physical constants are calculated using PhysicalConstants.jl, specifically the CODATA2018 measurement set. \n\nReferences\n\nPlanck's Law\n\nExamples\n\njulia> using Spectra, Unitful, UnitfulAstro\n\njulia> wave = range(1, 3, length=100)u\"μm\"\n(1.0:0.020202020202020204:3.0) μm\n\njulia> bb = blackbody(wave, 2000u\"K\")\nUnitfulSpectrum (100,)\n  λ (μm) f (W μm^-1 m^-2)\n  T: 2000 K\n  name: Blackbody\n\njulia> blackbody(ustrip.(u\"angstrom\", wave), 6000)\nSpectrum (100,)\n  T: 6000\n  name: Blackbody\n\njulia> bb.wave[argmax(bb)]\n1.4444444444444444 μm\n\njulia> 2898u\"μm*K\" / bb.T # See if it matches up with Wien's law\n1.449 μm\n\n\n\n\n\n","category":"function"},{"location":"spectrum/#Basic-operations-1","page":"Spectrum","title":"Basic operations","text":"","category":"section"},{"location":"spectrum/#","page":"Spectrum","title":"Spectrum","text":"For more advanced transformations, see Transformations","category":"page"},{"location":"spectrum/#","page":"Spectrum","title":"Spectrum","text":"Function\nBase.length(::AbstractSpectrum)\nBase.size(::AbstractSpectrum)\nBase.maximum(::AbstractSpectrum)\nBase.minimum(::AbstractSpectrum)\nBase.argmax(::AbstractSpectrum)\nBase.argmin(::AbstractSpectrum)\nBase.findmax(::AbstractSpectrum)\nBase.findmin(::AbstractSpectrum)","category":"page"},{"location":"spectrum/#Arithmetic-1","page":"Spectrum","title":"Arithmetic","text":"","category":"section"},{"location":"spectrum/#","page":"Spectrum","title":"Spectrum","text":"Function\n+(::AbstractSpectrum, A)\n-(::AbstractSpectrum, A)\n*(::AbstractSpectrum, A)\n/(::AbstractSpectrum, A)","category":"page"},{"location":"spectrum/#Unitful-helpers-1","page":"Spectrum","title":"Unitful helpers","text":"","category":"section"},{"location":"spectrum/#","page":"Spectrum","title":"Spectrum","text":"Unitful.unit\nUnitful.ustrip","category":"page"},{"location":"spectrum/#Unitful.unit","page":"Spectrum","title":"Unitful.unit","text":"Unitful.unit(::UnitfulSpectrum)\n\nGet the units of a spectrum. Returns a tuple of the wavelength units and flux/sigma units\n\nExamples\n\njulia> using Spectra, Unitful, UnitfulAstro\n\njulia> wave = range(1e4, 3e4, length=1000);\n\njulia> flux = wave .* 10 .+ randn(1000);\n\njulia> spec = spectrum(wave * u\"angstrom\", flux * u\"W/m^2/angstrom\");\n\njulia> w_unit, f_unit = unit(spec)\n(Å, W Å^-1 m^-2)\n\n\n\n\n\n\n","category":"function"},{"location":"spectrum/#Unitful.ustrip","page":"Spectrum","title":"Unitful.ustrip","text":"Unitful.ustrip(::UnitfulSpectrum)\n\nRemove the units from a spectrum. Useful for processing spectra in tools that don't play nicely with Unitful.jl\n\nExamples\n\njulia> using Spectra, Unitful, UnitfulAstro\n\njulia> wave = range(1e4, 3e4, length=1000);\n\njulia> flux = wave .* 10 .+ randn(1000);\n\njulia> spec = spectrum(wave*u\"angstrom\", flux*u\"W/m^2/angstrom\")\nUnitfulSpectrum (1000,)\n  λ (Å) f (W Å^-1 m^-2)\n\njulia> ustrip(spec)\nSpectrum (1000,)\n\n\n\n\n\n\n","category":"function"},{"location":"spectrum/#Plotting-1","page":"Spectrum","title":"Plotting","text":"","category":"section"},{"location":"spectrum/#","page":"Spectrum","title":"Spectrum","text":"We provide simple plotting recipes for spectra using Plots.jl","category":"page"},{"location":"spectrum/#","page":"Spectrum","title":"Spectrum","text":"using Plots, Spectra\n\nwave = range(1e3, 5e4, length=100)\nspec = blackbody(wave, 2000)\n\nplot(spec)\nsavefig(\"spec-plot.svg\"); nothing # hide","category":"page"},{"location":"spectrum/#","page":"Spectrum","title":"Spectrum","text":"(Image: )","category":"page"},{"location":"spectrum/#Index-1","page":"Spectrum","title":"Index","text":"","category":"section"},{"location":"spectrum/#","page":"Spectrum","title":"Spectrum","text":"Pages = [\"spectrum.md\"]","category":"page"},{"location":"spectrum/#","page":"Spectrum","title":"Spectrum","text":"DocTestSetup = nothing","category":"page"}]
}
