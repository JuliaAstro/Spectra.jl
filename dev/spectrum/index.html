<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Spectrum · Spectra.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Spectra.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li class="current"><a class="toctext" href>Spectrum</a><ul class="internal"><li><a class="toctext" href="#Types-1">Types</a></li><li><a class="toctext" href="#Constructors-1">Constructors</a></li><li><a class="toctext" href="#Basic-operations-1">Basic operations</a></li><li><a class="toctext" href="#Unitful-helpers-1">Unitful helpers</a></li><li><a class="toctext" href="#Plotting-1">Plotting</a></li><li><a class="toctext" href="#Index-1">Index</a></li></ul></li><li><a class="toctext" href="../transforms/">Transformations</a></li><li><a class="toctext" href="../contrib/">Contributing</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Spectrum</a></li></ul><a class="edit-page" href="https://github.com/JuliaAstro/Spectra.jl/blob/master/docs/src/spectrum.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Spectrum</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Spectrum-1" href="#Spectrum-1">Spectrum</a></h1><p>Here we will go over the different spectral types and how we use them.</p><h2><a class="nav-anchor" id="Types-1" href="#Types-1">Types</a></h2><p>Spectra are defined as possible subtypes of <code>AbstractSpectrum</code>. You can use these directly for construction, or use the catch-all <a href="#Spectra.spectrum"><code>spectrum</code></a> function, which is preferred.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Spectra.Spectrum" href="#Spectra.Spectrum"><code>Spectra.Spectrum</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">Spectrum &lt;: AbstractSpectrum</code></pre><p>A 1-dimensional spectrum stored as vectors of real numbers. The wavelengths are assumed to be in angstrom.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaAstro/Spectra.jl/blob/399ddaa59e728c1fdd6e223dad057054953b7acc/src/spectrum.jl#L83-L87">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Spectra.UnitfulSpectrum" href="#Spectra.UnitfulSpectrum"><code>Spectra.UnitfulSpectrum</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">UnitfulSpectrum &lt;: AbstractSpectrum</code></pre><p>A 1-dimensional spectrum stored as vectors of quantities.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaAstro/Spectra.jl/blob/399ddaa59e728c1fdd6e223dad057054953b7acc/src/spectrum.jl#L126-L130">source</a></section><h2><a class="nav-anchor" id="Constructors-1" href="#Constructors-1">Constructors</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Spectra.spectrum" href="#Spectra.spectrum"><code>Spectra.spectrum</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">spectrum(wave::Vector{&lt;:Real}, flux::Vector{&lt;:Real}; kwds...)
spectrum(wave::Vector{&lt;:Quantity}, flux::Vector{&lt;:Quantity}; kwds...)</code></pre><p>Construct a  single dimensional astronomical spectrum. Note that the dimensions of each array must be equal or an error will be thrown.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using Spectra

julia&gt; wave = range(1e4, 4e4, length=1000);

julia&gt; flux = 100 .* ones(size(wave));

julia&gt; spec = spectrum(wave, flux)
Spectrum (1000,)

julia&gt; spec = spectrum(wave, flux, name=&quot;Just Noise&quot;)
Spectrum (1000,)
  name: Just Noise

julia&gt; spec.name
&quot;Just Noise&quot;
</code></pre><p>There is easy integration with <a href="https://github.com/painterqubits/unitful.jl">Unitful.jl</a> and its sub-projects and <a href="https://github.com/juliaphysics/measurements.jl">Measurements.jl</a></p><pre><code class="language-julia-repl">julia&gt; using Spectra, Unitful, UnitfulAstro, Measurements

julia&gt; wave = range(1, 4, length=1000)u&quot;μm&quot;;

julia&gt; sigma = randn(size(wave));

julia&gt; flux = (100 .± sigma)u&quot;erg/cm^2/s/angstrom&quot;;

julia&gt; spec = spectrum(wave, flux)
UnitfulSpectrum (1000,)
  λ (μm) f (erg Å^-1 cm^-2 s^-1)
</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaAstro/Spectra.jl/blob/399ddaa59e728c1fdd6e223dad057054953b7acc/src/spectrum.jl#L7-L49">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Spectra.blackbody" href="#Spectra.blackbody"><code>Spectra.blackbody</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">blackbody(wave::Vector{&lt;:Quantity}, T::Quantity)
blackbody(wave::Vector{&lt;:Real}, T::Real)</code></pre><p>Create a blackbody spectrum using Planck&#39;s law. The curve follows the mathematical form </p><p><span>$B_\lambda(T) = \frac{2hc^2}{\lambda^5}\frac{1}{e^{hc/\lambda k_B T} - 1}$</span></p><p>If <code>wave</code> and <code>T</code> are not <code>Unitful.Quantity</code>, they are assumed to be in angstrom and Kelvin, and the returned flux will be in units <code>W m^-2 Å^-1</code>. </p><p>The physical constants are calculated using <a href="https://github.com/juliaphysics/physicalconstants.jl">PhysicalConstants.jl</a>, specifically the CODATA2018 measurement set. </p><p><strong>References</strong></p><p><a href="https://en.wikipedia.org/wiki/Planck%27s_law">Planck&#39;s Law</a></p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using Spectra, Unitful, UnitfulAstro

julia&gt; wave = range(1, 3, length=100)u&quot;μm&quot;
(1.0:0.020202020202020204:3.0) μm

julia&gt; bb = blackbody(wave, 2000u&quot;K&quot;)
UnitfulSpectrum (100,)
  λ (μm) f (W μm^-1 m^-2)
  T: 2000 K
  name: Blackbody

julia&gt; blackbody(ustrip.(u&quot;angstrom&quot;, wave), 6000)
Spectrum (100,)
  T: 6000
  name: Blackbody

julia&gt; bb.wave[argmax(bb)]
1.4444444444444444 μm

julia&gt; 2898u&quot;μm*K&quot; / bb.T # See if it matches up with Wien&#39;s law
1.449 μm</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaAstro/Spectra.jl/blob/399ddaa59e728c1fdd6e223dad057054953b7acc/src/utils.jl#L6-L45">source</a></section><h2><a class="nav-anchor" id="Basic-operations-1" href="#Basic-operations-1">Basic operations</a></h2><p>For more advanced transformations, see <a href="../transforms/#Transformations-1">Transformations</a></p><table><tr><th style="text-align: left">Function</th></tr><tr><td style="text-align: left"><code>Base.length(::AbstractSpectrum)</code></td></tr><tr><td style="text-align: left"><code>Base.size(::AbstractSpectrum)</code></td></tr><tr><td style="text-align: left"><code>Base.maximum(::AbstractSpectrum)</code></td></tr><tr><td style="text-align: left"><code>Base.minimum(::AbstractSpectrum)</code></td></tr><tr><td style="text-align: left"><code>Base.argmax(::AbstractSpectrum)</code></td></tr><tr><td style="text-align: left"><code>Base.argmin(::AbstractSpectrum)</code></td></tr><tr><td style="text-align: left"><code>Base.findmax(::AbstractSpectrum)</code></td></tr><tr><td style="text-align: left"><code>Base.findmin(::AbstractSpectrum)</code></td></tr></table><h3><a class="nav-anchor" id="Arithmetic-1" href="#Arithmetic-1">Arithmetic</a></h3><table><tr><th style="text-align: left">Function</th></tr><tr><td style="text-align: left"><code>+(::AbstractSpectrum, A)</code></td></tr><tr><td style="text-align: left"><code>-(::AbstractSpectrum, A)</code></td></tr><tr><td style="text-align: left"><code>*(::AbstractSpectrum, A)</code></td></tr><tr><td style="text-align: left"><code>/(::AbstractSpectrum, A)</code></td></tr></table><h2><a class="nav-anchor" id="Unitful-helpers-1" href="#Unitful-helpers-1">Unitful helpers</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Unitful.unit" href="#Unitful.unit"><code>Unitful.unit</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">Unitful.unit(::UnitfulSpectrum)</code></pre><p>Get the units of a spectrum. Returns a tuple of the wavelength units and flux/sigma units</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using Spectra, Unitful, UnitfulAstro

julia&gt; wave = range(1e4, 3e4, length=1000);

julia&gt; flux = wave .* 10 .+ randn(1000);

julia&gt; spec = spectrum(wave * u&quot;angstrom&quot;, flux * u&quot;W/m^2/angstrom&quot;);

julia&gt; w_unit, f_unit = unit(spec)
(Å, W Å^-1 m^-2)
</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaAstro/Spectra.jl/blob/399ddaa59e728c1fdd6e223dad057054953b7acc/src/spectrum.jl#L170-L189">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Unitful.ustrip" href="#Unitful.ustrip"><code>Unitful.ustrip</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">Unitful.ustrip(::UnitfulSpectrum)</code></pre><p>Remove the units from a spectrum. Useful for processing spectra in tools that don&#39;t play nicely with <code>Unitful.jl</code></p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using Spectra, Unitful, UnitfulAstro

julia&gt; wave = range(1e4, 3e4, length=1000);

julia&gt; flux = wave .* 10 .+ randn(1000);

julia&gt; spec = spectrum(wave*u&quot;angstrom&quot;, flux*u&quot;W/m^2/angstrom&quot;)
UnitfulSpectrum (1000,)
  λ (Å) f (W Å^-1 m^-2)

julia&gt; ustrip(spec)
Spectrum (1000,)
</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaAstro/Spectra.jl/blob/399ddaa59e728c1fdd6e223dad057054953b7acc/src/spectrum.jl#L146-L167">source</a></section><h2><a class="nav-anchor" id="Plotting-1" href="#Plotting-1">Plotting</a></h2><p>We provide simple plotting recipes for spectra using <a href="https://github.com/juliaplots/plots.jl">Plots.jl</a></p><pre><code class="language-julia">using Plots, Spectra

wave = range(1e3, 5e4, length=100)
spec = blackbody(wave, 2000)

plot(spec)</code></pre><pre><code class="language-none">/home/travis/.julia/packages/GR/ZI5OE/src/../deps/gr/bin/gksqt: error while loading shared libraries: libQt5Widgets.so.5: cannot open shared object file: No such file or directory
connect: Connection refused
GKS: can&#39;t connect to GKS socket application
Did you start &#39;gksqt&#39;?

GKS: Open failed in routine OPEN_WS
GKS: GKS not in proper state. GKS must be either in the state WSOP or WSAC in routine ACTIVATE_WS</code></pre><p><img src="../spec-plot.svg" alt/></p><h2><a class="nav-anchor" id="Index-1" href="#Index-1">Index</a></h2><ul><li><a href="#Spectra.Spectrum"><code>Spectra.Spectrum</code></a></li><li><a href="#Spectra.UnitfulSpectrum"><code>Spectra.UnitfulSpectrum</code></a></li><li><a href="#Spectra.blackbody"><code>Spectra.blackbody</code></a></li><li><a href="#Spectra.spectrum"><code>Spectra.spectrum</code></a></li><li><a href="#Unitful.unit"><code>Unitful.unit</code></a></li><li><a href="#Unitful.ustrip"><code>Unitful.ustrip</code></a></li></ul><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="../transforms/"><span class="direction">Next</span><span class="title">Transformations</span></a></footer></article></body></html>
